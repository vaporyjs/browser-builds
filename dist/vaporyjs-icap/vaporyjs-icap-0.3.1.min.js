(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.vaporyjs = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
module.exports=function(r){for(var e={},n=r.length,t=r.charAt(0),o=0;o<r.length;o++)e[r.charAt(o)]=o;function f(r){if(0===r.length)return[];for(var o=[0],f=0;f<r.length;f++){var h=e[r[f]];if(void 0===h)return;for(var a=0,u=h;a<o.length;++a)u+=o[a]*n,o[a]=255&u,u>>=8;for(;u>0;)o.push(255&u),u>>=8}for(var l=0;r[l]===t&&l<r.length-1;++l)o.push(0);return o.reverse()}return{encode:function(e){if(0===e.length)return"";for(var t=[0],o=0;o<e.length;++o){for(var f=0,h=e[o];f<t.length;++f)h+=t[f]<<8,t[f]=h%n,h=h/n|0;for(;h>0;)t.push(h%n),h=h/n|0}for(var a="",u=0;0===e[u]&&u<e.length-1;++u)a+=r[0];for(var l=t.length-1;l>=0;--l)a+=r[t[l]];return a},decodeUnsafe:f,decode:function(r){var e=f(r);if(e)return e;throw new Error("Non-base"+n+" character")}}};

},{}],2:[function(require,module,exports){
!function(n){"use strict";var t={bytesToHex:function(n){return function(n){return n.map(function(n){return t=n.toString(16),e=2,t.length>e?t:Array(e-t.length+1).join("0")+t;var t,e}).join("")}(n)},hexToBytes:function(n){if(n.length%2==1)throw new Error("hexToBytes can't have a string with an odd number of characters.");return 0===n.indexOf("0x")&&(n=n.slice(2)),n.match(/../g).map(function(n){return parseInt(n,16)})}};"undefined"!=typeof module&&module.exports?module.exports=t:n.convertHex=t}(this);

},{}],3:[function(require,module,exports){
var hex=require("convert-hex"),BASE36_ALPHABET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",bs36=require("base-x")(BASE36_ALPHABET),ICAP={};function prepare(e){return(e=e.slice(4)+e.slice(0,4)).split("").map(function(e){var r=e.charCodeAt(0);return r>=65&&r<=90?r-65+10:e}).join("")}function mod9710(e){for(var r=0,t=0;t<e.length;t++)r*=10,r+=e.charCodeAt(t)-48,r%=97;return r}ICAP.decodeBBAN=function(e){var r=e.length;if(30===r||31===r){for(var t=hex.bytesToHex(bs36.decode(e));t.length<40;)t="0"+t;return 42===t.length&&"0"===t[0]&&"0"===t[1]&&(t=t.slice(2)),"0x"+t}if(16===r)return{asset:e.slice(0,3),institution:e.slice(3,7),client:e.slice(7,16)};throw new Error("Not a valid Vapory BBAN")},ICAP.encodeBBAN=function(e){if("object"==typeof e){if(3!==e.asset.length||4!==e.institution.length||9!==e.client.length)throw new Error("Invalid 'indirect' Vapory BBAN");return[e.asset,e.institution,e.client].join("").toUpperCase()}if(42===e.length&&"0"===e[0]&&"x"===e[1])return"0"===e[2]&&"0"===e[3]&&(e="0x"+e.slice(4)),bs36.encode(hex.hexToBytes(e));throw new Error("Not a valid input for Vapory BBAN")},ICAP.encode=function(e,r){var t=98-mod9710(prepare("XE00"+(e=ICAP.encodeBBAN(e)))),n="XE"+(t=("0"+t).slice(-2))+e;return!0===r&&(n=n.replace(/(.{4})/g,"$1 ")),n},ICAP.decode=function(e,r){if(e=e.replace(/\ /g,""),!r){if("XE"!==e.slice(0,2))throw new Error("Not in ICAP format");if(1!==mod9710(prepare(e)))throw new Error("Invalid checksum in IBAN")}return ICAP.decodeBBAN(e.slice(4,35))},ICAP.fromAddress=function(e,r,t){var n=ICAP.encode(e,r);if(34!==n.replace(" ","").length&&!0!==t)throw new Error("Supplied address will result in invalid an IBAN");return n},ICAP.fromAsset=function(e,r){return ICAP.encode(e,r)},ICAP.toAddress=function(e){var r=ICAP.decode(e);if("string"!=typeof r)throw new Error("Not an address-encoded ICAP");return r},ICAP.toAsset=function(e){var r=ICAP.decode(e);if("object"!=typeof r)throw new Error("Not an asset-encoded ICAP");return r},ICAP.isICAP=function(e){try{return ICAP.decode(e),!0}catch(e){return!1}},ICAP.isAddress=function(e){try{return ICAP.toAddress(e),!0}catch(e){return!1}},ICAP.isAsset=function(e){try{return ICAP.toAsset(e),!0}catch(e){return!1}},module.exports=ICAP;

},{"base-x":1,"convert-hex":2}],4:[function(require,module,exports){
"use strict";module.exports={ICAP:require("vaporyjs-icap")};

},{"vaporyjs-icap":3}]},{},[4])(4)
});
